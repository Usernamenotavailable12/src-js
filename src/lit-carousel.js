var m=Object.freeze,u=Object.defineProperty;var L=(n,t,e)=>t in n?u(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var p=(n,t,e)=>L(n,typeof t!="symbol"?t+"":t,e);var l=(n,t)=>m(u(n,"raw",{value:m(t||n.slice())}));function C(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}const{LitElement:E,html:d,css:z}=window.Lit;var x,v,w,k,y,S;class f extends E{constructor(){super(),this.culture="ka-GE",this.device="",this.data=null,this.error=null,this.canScrollLeft=!1,this.canScrollRight=!0,this.isDragging=!1,this.startX=0,this.scrollLeftStart=0,this.containerRef=null}createRenderRoot(){const t=this.attachShadow({mode:"open"}),e=document.createElement("style");return e.textContent=this.constructor.styles.toString(),t.appendChild(e),t}connectedCallback(){super.connectedCallback(),this.fetchData()}async fetchData(){try{const t=await fetch("https://sb2frontend-altenar2.biahosted.com/api/widget/GetTopEvents?culture=".concat(this.culture,"&integration=ambassadoribet"),{method:"GET",headers:{Accept:"application/json"}});if(!t.ok)throw new Error("HTTP error! Status: ".concat(t.status));this.data=await t.json()}catch(t){this.error=t.message}}firstUpdated(){this.containerRef=this.renderRoot.querySelector(".carousel-container"),this.containerRef&&this.containerRef.addEventListener("scroll",()=>this.checkScroll(),{passive:!0})}updated(){this.containerRef||(this.containerRef=this.renderRoot.querySelector(".carousel-container")),setTimeout(()=>{this.checkScroll()},100)}disconnectedCallback(){super.disconnectedCallback(),this.containerRef&&this.containerRef.removeEventListener("scroll",()=>this.checkScroll())}checkScroll(){if(this.containerRef){const{scrollLeft:t,scrollWidth:e,clientWidth:r}=this.containerRef;this.canScrollLeft=t>0,this.canScrollRight=t<e-r-1,this.requestUpdate()}}handleStart(t,e){if(this.containerRef&&this.device==="mobile"){if(e.target.closest(".event-card"))return;e.stopPropagation(),e.preventDefault(),this.isDragging=!0,this.startX=t,this.scrollLeftStart=this.containerRef.scrollLeft,this.containerRef.style.cursor="grabbing",this.containerRef.style.scrollBehavior="auto",this.containerRef.style.scrollSnapType="none"}else this.containerRef&&(e.stopPropagation(),e.preventDefault(),this.isDragging=!0,this.startX=t,this.scrollLeftStart=this.containerRef.scrollLeft,this.containerRef.style.cursor="grabbing",this.containerRef.style.scrollBehavior="auto",this.containerRef.style.scrollSnapType="none")}handleMove(t,e){if(!this.isDragging||!this.containerRef)return;e.stopPropagation(),this.isDragging&&e.preventDefault();const r=t-this.startX;this.containerRef.scrollLeft=this.scrollLeftStart-r}handleEnd(t){this.containerRef&&(t==null||t.stopPropagation(),this.isDragging=!1,this.containerRef.style.cursor="grab",this.containerRef.style.scrollBehavior="smooth",this.containerRef.style.scrollSnapType=""),this.checkScroll()}scrollLeft(){if(!this.containerRef){console.error("scrollLeft: containerRef is null");return}const t=this.device==="mobile"?255:338;this.containerRef.scrollBy({left:-t,behavior:"smooth"}),this.checkScroll()}scrollRight(){if(!this.containerRef){console.error("scrollRight: containerRef is null");return}const t=this.device==="mobile"?255:338;this.containerRef.scrollBy({left:t,behavior:"smooth"}),this.checkScroll()}formatDate(t){const e=new Date(t),r=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getDate().toString().padStart(2,"0"),c=e.getHours().toString().padStart(2,"0"),h=e.getMinutes().toString().padStart(2,"0");return"".concat(a,".").concat(r," - ").concat(c,":").concat(h)}getOddsForMarket(t,e,r){const a=e.find(c=>c.id===t);return a?a.oddIds.map(c=>r.find(h=>h.id===c)).filter(Boolean):[]}getBackgroundImage(t,e){const r={default:"https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/f7535abc-73c7-40fd-bca0-6b547f3c57da/b64a4b9fc2a399111df3fe2a92b88a4d8dc52132.png?auto=format%2Ccompress",sports:{67:"https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/2cd76afe-7518-4a3b-b450-423054f0264b/b3f45ba2a9849b8abb9c41ad6f2eea893c59f37e.png?auto=format%2Ccompress",66:"https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/f7535abc-73c7-40fd-bca0-6b547f3c57da/b64a4b9fc2a399111df3fe2a92b88a4d8dc52132.png?auto=format%2Ccompress",84:"https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/22c4b458-ce8a-4c52-8486-259953496316/sdddddd-01.png?auto=format%2Ccompress"},champs:{"premier-league":"https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/22c4b458-ce8a-4c52-8486-259953496316/sdddddd-01.png?auto=format%2Ccompress"}};return e&&r.champs[e]?r.champs[e]:t&&r.sports[t]?r.sports[t]:r.default}renderEventCard(t,e,r,a,c,h){var g,b;const R=this.getOddsForMarket(t.marketIds[0],e,r),$=this.getBackgroundImage(t.sportId,t.champId),o=a.find(i=>i.id===t.competitorIds[0]),s=a.find(i=>i.id===t.competitorIds[1]);return d(w||(w=l(['\n      <a\n        href="/sportsbook/event/','"\n        class="event-card"\n        style="background-image: url(',')"\n        aria-label="View event '," vs ",'"\n      >\n        <div class="card-block-container">\n          <div class="card-f-block">\n            <h3 title="','">\n              <img\n                src="https://sb2jerseys-altenar2.biahosted.com/63/l/','"\n                alt="',' logo"\n                class="competitor-logo"\n                @error=',"\n              />\n              ",'\n            </h3>\n          </div>\n          <div class="card-s-block">\n            <p class="card-date-text">','</p>\n            <span class="card-name-block">\n              <p>\n                ','\n              </p>\n            </span>\n            <p class="card-score-text">+','</p>\n          </div>\n          <div class="card-th-block">\n            <h3 title="','">\n              <img\n                src="https://sb2jerseys-altenar2.biahosted.com/63/l/','"\n                alt="',' logo"\n                class="competitor-logo"\n                @error=',"\n              />\n              ",'\n            </h3>\n          </div>\n        </div>\n        <div class="odds-container">\n          <div class="odds-row">\n            ',"\n          </div>\n        </div>\n      </a>\n    "])),t.id,$,(o==null?void 0:o.name)||"Team 1",(s==null?void 0:s.name)||"Team 2",(o==null?void 0:o.name)||"",t.competitorIds[0],(o==null?void 0:o.name)||"",i=>{i.target.style.display="none"},((o==null?void 0:o.name.slice(0,10))||"Team 1")+((o==null?void 0:o.name.length)>10?"..":""),this.formatDate(t.startDate),(((g=c.find(i=>i.id===t.champId))==null?void 0:g.name.slice(0,14))||"")+(((b=c.find(i=>i.id===t.champId))==null?void 0:b.name.length)>14?"..":""),(t==null?void 0:t.sc)||"",(s==null?void 0:s.name)||"",t.competitorIds[1],(s==null?void 0:s.name)||"",i=>{i.target.style.display="none"},((s==null?void 0:s.name.slice(0,10))||"Team 2")+((s==null?void 0:s.name.length)>10?"..":""),R.map(i=>d(v||(v=l(['\n                <span class="odd-item">\n                  <p>',"</p>\n                  <p>","</p>\n                </span>\n              "])),i.name,(Math.round(i.price*100)/100).toFixed(2))))}render(){if(this.error)return d(k||(k=l(['\n        <div class="error-message">\n          <p>Error fetching events: ',"</p>\n        </div>\n      "])),this.error);if(!this.data||!this.data.events||this.data.events.length===0)return d(y||(y=l(['\n        <div class="no-events-message">\n          <p></p>\n        </div>\n      '])));const t=Math.ceil(this.data.events.length/2),e=this.data.events.slice(0,t),r=this.data.events.slice(t);return d(S||(S=l(['\n      <div id="app-container">\n        <div class="carousel-wrapper">\n          <button\n            class="scroll-button scroll-left"\n            @click=',"\n            ?disabled=",'\n            aria-label="Scroll left"\n          >\n            <svg viewBox="0 0 24 24">\n              <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />\n            </svg>\n          </button>\n          <div\n            class="carousel-container"\n            @mousedown=',"\n            @mousemove=","\n            @mouseup=","\n            @mouseleave=","\n            @touchstart=","\n            @touchmove=","\n            @touchend=",'\n            style="cursor: grab"\n          >\n            <div class="carousel-row">\n              <div class="carousel-track">\n                ','\n              </div>\n              <div class="carousel-track">\n                ','\n              </div>\n            </div>\n          </div>\n          <button\n            class="scroll-button scroll-right"\n            @click=',"\n            ?disabled=",'\n            aria-label="Scroll right"\n          >\n            <svg viewBox="0 0 24 24">\n              <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    '])),()=>this.scrollLeft(),!this.canScrollLeft,a=>this.handleStart(a.clientX,a),a=>this.handleMove(a.clientX,a),a=>this.handleEnd(a),a=>this.handleEnd(a),a=>this.handleStart(a.touches[0].clientX,a),a=>this.handleMove(a.touches[0].clientX,a),a=>this.handleEnd(a),e.map(a=>this.renderEventCard(a,this.data.markets,this.data.odds,this.data.competitors,this.data.champs,this.data.categories)),r.map(a=>this.renderEventCard(a,this.data.markets,this.data.odds,this.data.competitors,this.data.champs,this.data.categories)),()=>this.scrollRight(),!this.canScrollRight)}}p(f,"properties",{culture:{type:String,reflect:!0},device:{type:String,reflect:!0},data:{type:Object,state:!0},error:{type:String,state:!0},canScrollLeft:{type:Boolean,state:!0},canScrollRight:{type:Boolean,state:!0}}),p(f,"styles",z(x||(x=l(['\n    @font-face {\n      font-family: "Noto Sans Ambassadori";\n      font-style: normal;\n      font-display: swap;\n      src: url(https://usernamenotavailable12.github.io/Font-Repository/NotoSansAmbassadori-Regular.ttf);\n    }\n\n    .card-block-container {\n      display: flex;\n      height: 76%;\n    }\n\n    .card-f-block,\n    .card-s-block,\n    .card-th-block {\n      width: 100%;\n      position: relative;\n      transform: translateY(-15px);\n    }\n\n    .card-f-block h3,\n    .card-th-block h3 {\n      margin: 0;\n      color: #fff;\n      font-family: "Noto Sans Ambassadori";\n      font-size: 10px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 20px;\n      position: absolute;\n      top: 15px;\n      white-space: nowrap;\n\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      text-align: center;\n    }\n\n    .card-f-block h3 img,\n    .card-th-block h3 img {\n      margin: auto;\n    }\n\n    .card-f-block h3 {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    .card-th-block h3 {\n      margin-right: 50%;\n      transform: translateX(50%);\n    }\n\n    .card-score-text {\n      color: #f133fa;\n      font-family: "Noto Sans Ambassadori";\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 20px;\n      position: absolute;\n      margin: 0 0 0 50%;\n      bottom: 12px;\n      transform: translateX(-50%) translateY(20px);\n    }\n\n    .card-name-block p {\n      color: #fff;\n      font-family: "Noto Sans Ambassadori";\n      font-size: 11px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 20px;\n      opacity: 0.6;\n      margin: 0;\n      margin-left: 50%;\n      transform: translateX(-50%);\n      white-space: nowrap;\n      position: absolute;\n      top: 0px;\n    }\n\n    .card-date-text {\n      margin: 0;\n      text-align: center;\n      color: #fff;\n      font-family: "Noto Sans Ambassadori";\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 20px;\n      transform: translateY(22px);\n    }\n\n    .card-f-block h3 {\n      left: 0;\n    }\n\n    .card-th-block h3 {\n      right: 0;\n    }\n\n    .carousel-wrapper {\n      position: relative;\n      width: 100%;\n      height: 320px;\n      border-radius: 10px;\n    }\n\n    .carousel-container {\n      align-self: stretch;\n      background: url("https://www.ambassadoribet.com/_internal/ts-images/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/81558d7e-f4a1-4117-93e8-20a501dda763/d56ebf81b0a24144dab8dfa196fed1c5d65b10a2.png?auto=format%2Ccompress");\n      background-repeat: no-repeat;\n      background-position: center;\n      background-size: cover;\n      border-radius: 0px;\n      position: relative;\n      width: 100%;\n      height: 100%;\n      overflow-x: auto;\n      scrollbar-width: none;\n      overflow-y: hidden;\n      scroll-behavior: smooth;\n      overscroll-behavior-x: contain;\n      touch-action: pan-x;\n      border-radius: 10px;\n    }\n\n    .carousel-container::-webkit-scrollbar {\n      display: none;\n    }\n\n    .carousel-row {\n      display: flex;\n      flex-direction: column;\n      gap: 5px;\n      padding: 20px;\n      padding-right: 0;\n      width: max-content;\n      min-width: max-content;\n      border-radius: 10px;\n    }\n\n    .carousel-track {\n      display: flex;\n      position: relative;\n      user-select: none;\n      gap: 12px;\n    }\n\n    .carousel-track .event-card:last-of-type {\n      margin-right: 0px;\n    }\n\n    .carousel-track:first-child .event-card {\n      margin-left: 0px;\n    }\n\n    .error-message {\n      color: #dc2626;\n      margin-left: auto;\n      margin-right: auto;\n      max-width: 80rem;\n      padding-bottom: 1.5rem;\n      padding-top: 1rem;\n      text-align: center;\n    }\n\n    .event-card {\n      backdrop-filter: blur(30px);\n      background: rgba(255, 255, 255, 0.02);\n      background-size: cover;\n      background-position: center;\n      border-radius: 12px;\n      box-shadow: 2px 2px 4px 2px rgba(0, 0, 0, 0.25);\n      box-sizing: border-box;\n      cursor: pointer;\n      flex-shrink: 0;\n      height: 137px;\n      padding: 1.3rem;\n      transition: box-shadow 0.2s ease;\n      width: 286px;\n      position: relative;\n      z-index: 0;\n      text-decoration: none;\n      pointer-events: auto;\n    }\n\n    .event-card:hover {\n      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);\n    }\n\n    .event-date {\n      color: #4b5563;\n      font-size: 0.275rem;\n    }\n\n    .event-title {\n      color: #1f2937;\n      font-size: 0.425rem;\n      font-weight: 600;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .no-events-message {\n      color: #4b5563;\n      margin-left: auto;\n      margin-right: auto;\n      max-width: 80rem;\n      padding-bottom: 1.5rem;\n      padding-top: 1.5rem;\n      text-align: center;\n    }\n\n    .odd-item {\n      align-items: center;\n      background: #3f0d64;\n      border-radius: 15px;\n      color: #fff;\n      display: flex;\n      font-family: "Noto Sans Ambassadori";\n      font-size: 12px;\n      font-style: normal;\n      font-weight: 500;\n      justify-content: space-between;\n      line-height: 15px;\n      padding: 10px 12px;\n      width: 100%;\n    }\n\n    .odd-item p {\n      margin: 0;\n    }\n\n    .odds-row {\n      display: flex;\n      gap: 12px;\n      justify-content: space-between;\n    }\n\n    #app-container {\n      background-color: transparent;\n      height: 320px;\n      border-radius: 10px;\n    }\n\n    .competitor-logo {\n      width: 34px;\n      height: 34px;\n      margin-right: 8px;\n      vertical-align: middle;\n      display: inline-block;\n    }\n\n    .scroll-button {\n      position: absolute;\n      top: 50%;\n      transform: translateY(-50%);\n      width: 1.8rem;\n      height: 1.8rem;\n      background: #cf167d;\n      backdrop-filter: blur(10px);\n      border: none;\n      border-radius: 50%;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10;\n      transition: background 0.3s ease;\n    }\n\n    .scroll-button:disabled {\n      opacity: 0.5;\n      cursor: not-allowed;\n    }\n\n    .scroll-left {\n      left: 10px;\n    }\n\n    .scroll-right {\n      right: 10px;\n    }\n\n    .scroll-button svg {\n      width: 20px;\n      height: 20px;\n      fill: #fff;\n    }\n\n    .carousel-wrapper .scroll-button {\n      opacity: 0;\n      transition: all 0.3s ease;\n    }\n\n    .carousel-wrapper:hover .scroll-button {\n      opacity: 1;\n    }\n\n    .carousel-wrapper:before {\n      content: "";\n      background-image: linear-gradient(\n        to right,\n        transparent,\n        rgba(0, 0, 0, 0.5)\n      );\n      display: inline-block;\n      width: 50px;\n      height: 320px;\n      position: absolute;\n      border-top-right-radius: 10px;\n      border-bottom-right-radius: 10px;\n      right: 0;\n      top: 0;\n      z-index: 2;\n      pointer-events: none;\n      border-radius: 10px;\n    }\n\n    .carousel-wrapper:after {\n      content: "";\n      background-image: linear-gradient(\n        to left,\n        transparent,\n        rgba(0, 0, 0, 0.5)\n      );\n      display: inline-block;\n      width: 50px;\n      height: 320px;\n      position: absolute;\n      border-top-right-radius: 10px;\n      border-bottom-right-radius: 10px;\n      left: 0;\n      top: 0;\n      z-index: 2;\n      pointer-events: none;\n      border-radius: 10px;\n    }\n\n    :host([device="mobile"]) .carousel-row {\n      flex-direction: row;\n      padding: 10px;\n    }\n      :host([device="mobile"]) .card-date-text {\n      font-size: 10px;\n      transform: translateY(18px);\n    }\n\n    :host([device="mobile"]) .carousel-track {\n      gap: 5px;\n    }\n\n\n    :host([device="mobile"]) #app-container,\n    :host([device="mobile"]) .carousel-wrapper,\n    :host([device="mobile"]) .carousel-wrapper:before,\n    :host([device="mobile"]) .carousel-wrapper:after {\n      height: 130px;\n    }\n\n    :host([device="mobile"]) .event-card {\n      height: 110px;\n      width: 250px;\n    }\n\n    :host([device="mobile"]) .event-card .odd-item {\n      font-size: 10px;\n      padding: 5px 6px;\n    }\n\n    :host([device="mobile"]) .event-card .card-f-block h3,\n    :host([device="mobile"]) .event-card .card-th-block h3 {\n\n      font-size: 9px;\n    }\n    :host([device="mobile"]) .competitor-logo {\n      width: 27px;\n    height: 27px;\n    }\n  ']))));customElements.define("event-carousel",f);export{C as __vite_legacy_guard};
//# sourceMappingURL=event-carousel.js.map
