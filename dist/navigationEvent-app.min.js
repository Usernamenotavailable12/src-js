var leaderboardTable;async function tryMadeProgressBar(){let e=0;for(;e<10;)try{if(!document.getElementById("progressBarData"))throw new Error("Progress bar not found");madeProgressBar();break}catch(t){e++,await new Promise((e=>setTimeout(e,500)))}}async function tryLoadFreebetDeposit(){let e=0;for(;e<10;)try{if(!document.getElementById("start-aaaaa-tour-bba"))throw new Error("Progress bar not found");loadFreebetDeposit();break}catch(t){e++,await new Promise((e=>setTimeout(e,500)))}}function leaderboardInitialize(){let e=0;const t=()=>{const a=document.getElementById("tournamentData");if(!a||!a.textContent)return e++,e<10?setTimeout(t,1e3):void console.error("Maximum attempts reached waiting for tournament data element.");let o;try{o=JSON.parse(a.textContent)}catch(e){return void console.error("Failed to parse tournament data:",e)}if(null!=o)try{leaderboardTable=new FullLeaderboardTable(o,document.getElementById("leaderboardLoader"))}catch(a){return e++,console.error("Failed to initialize leaderboard:",a),e<10?setTimeout(t,1e3):void console.error("Maximum attempts reached waiting for tournament data element.")}else console.warn("No valid tournament data found")};t()}function wheelInitialize(){let e=0;const t=a=>{const o=document.getElementById("wheel"),n=document.getElementById("fortuneListTop"),r=document.getElementById("fortuneList");o&&n&&r?selectFortuneWheel(a[0],1):e<10&&(e++,setTimeout((()=>t(a)),500))};fetchWheelData().then((e=>{e?.length>0&&t(e)}))}async function logCurrentPath(e,t){t&&t.includes("leaderboard")&&e!==t&&await(leaderboardTable?.destroy()),e.includes("leaderboard")&&leaderboardInitialize(),e.includes("wheel")&&wheelInitialize(),e.includes("welcomebonus")&&wheelInitialize(),e.includes("box")&&tryMadeProgressBar(),e.includes("betprogressbar")&&tryMadeProgressBar(),e.includes("freebet-deposit-offer")&&tryLoadFreebetDeposit()}addEventListener("load",(e=>{!function(e){const t=e.pushState,a=e.replaceState;let o=window.location.pathname;function n(e){"complete"===document.readyState?e():window.addEventListener("load",e,{once:!0})}e.pushState=function(...e){const a=o,r=t.apply(this,e),i=window.location.pathname;return o=i,n((()=>logCurrentPath(i,a))),r},e.replaceState=function(...e){const t=o,r=a.apply(this,e),i=window.location.pathname;return o=i,n((()=>logCurrentPath(i,t))),r},n((()=>{const e=window.location.pathname;logCurrentPath(e,null),o=e}))}(window.history)})),window.addEventListener("message",(e=>{"string"==typeof e.data&&e.data.includes("/auth/redirect/signin_iq")&&setTimeout((()=>{logCurrentPath(window.location.pathname,window.location.href)}),1e3)}));